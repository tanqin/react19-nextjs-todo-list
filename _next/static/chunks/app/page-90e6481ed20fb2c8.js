(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2272:(e,t,l)=>{"use strict";l.d(t,{i:()=>s});let s=(0,l(2115).createContext)(null)},6098:(e,t,l)=>{"use strict";l.d(t,{l:()=>r});var s=l(2115),o=l(2272);function r(){return(0,s.useContext)(o.i)}},6387:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var s=l(5155),o=l(2272),r=l(2115);let a=(e,t)=>{let l;switch(t.type){case"ADD_TODO":l=[...e,{id:Date.now(),text:t.text,completed:!1}];break;case"TOGGLE_TODO":l=e.map(e=>e.id===t.id?{...e,completed:!e.completed}:e);break;case"REMOVE_TODO":l=e.filter(e=>e.id!==t.id);break;default:l=e}return localStorage.setItem("todos",JSON.stringify(l)),l},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(localStorage.getItem("todos")||"[]"),[t,l]=(0,r.useReducer)(a,e);return{todos:t,addTodo:e=>l({type:"ADD_TODO",text:e}),toggleTodo:e=>l({type:"TOGGLE_TODO",id:e}),removeTodo:e=>l({type:"REMOVE_TODO",id:e})}};var d=l(6098);function c(){let{addTodo:e}=(0,d.l)(),t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{t.current.focus()},[]),(0,s.jsxs)("form",{className:"mb-2.5",onSubmit:function(l){l.preventDefault();let s=new FormData(l.currentTarget).get("todoText").trim();s&&(e(s),t.current.value="")},children:[(0,s.jsx)("input",{className:"pl-0.25 border focus:outline-none focus:border",type:"text",name:"todoText",placeholder:"新增 Todo",ref:t}),(0,s.jsx)("button",{className:"border ml-2 px-1",type:"submit",children:"提交"})]})}var u=l(5028),i=l(6766);let f=(0,u.default)(()=>l.e(320).then(l.bind(l,3320)),{loadableGenerated:{webpack:()=>[3320]},ssr:!1});function m(){let e=n();return(0,s.jsx)(o.i.Provider,{value:e,children:(0,s.jsxs)("div",{className:"absolute left-1/2 -translate-x-1/2 w-full sm:max-w-sm flex flex-col items-center",children:[(0,s.jsxs)("h1",{className:"flex font-bold text-3xl m-2.5",children:[(0,s.jsx)(i.default,{className:"mr-1",src:"".concat("/react19-nextjs-todo-list","/todo.svg"),alt:"todo",width:20,height:20})," Todo List"]}),(0,s.jsx)(c,{}),(0,s.jsx)(f,{})]})})}},8602:(e,t,l)=>{Promise.resolve().then(l.bind(l,6387))}},e=>{e.O(0,[701,441,964,358],()=>e(e.s=8602)),_N_E=e.O()}]);